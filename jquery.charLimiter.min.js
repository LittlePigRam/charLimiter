/*
    Project: charLimiter
    Version: 1.1
    Date: 10/01/2013
    Description: Characters Limiter and auto generate Counter if you can.
    Author: Abner Soares Alves JÃºnior
    GitHub: https://github.com/abnersajr
    Licensed under the MIT license
 */
(function(a){function f(b,d){var e=this.element=b,h=this.options=a.extend({maxChars:a(e).attr("maxlength"),onCharsFull:function(){},onCharsEmpty:function(){}},g,d);this._defaults=g;this._name=c;this.init(e,h)}var c="charLimiter",g={counterClass:"counter",generateCounter:!1,insert:"after"};f.prototype.init=function(b,d){var e=d.maxChars;if(!0===d.generateCounter){var c=a("<span>",{"class":d.counterClass,text:e});a(b).data("sp",c)[d.insert](c)}else a(b).each(function(){a("."+d.counterClass+'[data-counter-rel="'+
a(this).data("counter-rel")+'"]').html(e)});a(b).on("keypress keyup keydown change input",function(){var b=a(this).val().length,c=e-b;if(0===b)d.onCharsEmpty();if(0===c)d.onCharsFull();b>e&&(b=a(this).val(),a(this).val(b.substr(0,e)),c=0);!0===d.generateCounter?a(this).data("sp").html(c):a("."+d.counterClass+'[data-counter-rel="'+a(this).data("counter-rel")+'"]').html(c)}).change()};a.fn[c]=function(b){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new f(this,b))})}})(jQuery,window);